/* ========================================================== */
/* ETAPA 1: ÁTOMOS (TOKENS PRIMITIVOS) */
/* ========================================================== */
/*
 * A "paleta" central. Valores brutos, sem propósito.
 * Esta é a única seção que você edita para "testar"
 * novas fontes, cores ou espaçamentos.
*/
:root {
  /* --- Átomos de Cor: Marca --- */
  --color-brand-primary: #ff7a00;
  --color-brand-secondary: #0b57d0;

  /* --- Átomos de Cor: Feedback --- */
  --color-accent-green: #16a34a;
  --color-danger-red: #dc2626;
  --color-warning-yellow: #f59e0b;
  --color-info-cyan: #0284c7;

  /* --- Átomos de Tom: Modo Claro (Light) --- */
  --color-light-bg: #f7f9fb;
  --color-light-surface: #ffffff;
  --color-light-surface-alt: #f1f5f9;
  --color-light-border: #e2e8f0;
  --color-light-text-primary: #0f172a;
  --color-light-text-muted: #64748b;
  --color-light-text-muted-strong: #475569;
  --color-light-solid: #ffffff;

  /* --- Átomos de Tom: Modo Escuro (Dark) --- */
  --color-dark-bg: #1e293b;
  --color-dark-surface: #334155;
  --color-dark-surface-alt: #475569;
  --color-dark-border: #334155;
  --color-dark-text-primary: #f8fafc;
  --color-dark-text-muted: #94a3b8;
  --color-dark-text-muted-strong: #cbd5e1;
  --color-dark-solid: #ffffff;

  /* --- Átomos de Spacing (Multiplos de 4px) --- */
  --space-0: 0;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 28px;
  --space-8: 32px;

  /* --- Átomos de Radius --- */
  --radius-s: 4px;
  --radius-m: 8px;
  --radius-l: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* --- Átomos de Typography --- */
  --font-size-s: 0.75rem; /* 12px */
  --font-size-m: 0.875rem; /* 14px */
  --font-size-l: 1rem; /* 16px */
  --font-size-xl: 1.25rem; /* 20px */
}

/* ========================================================== */
/* ETAPA 2: TOKENS DE PROPOSITO (APLICANDO TEMA) */
/* ========================================================== */
:root {
  /* --- Tokens de Background & Surface --- */
  --background-page: var(--color-light-bg);
  --background-surface: var(--color-light-surface);
  --background-surface-alternate: var(--color-light-surface-alt);
  
  /* --- Tokens de Texto --- */
  --text-color-primary: var(--color-light-text-primary);
  --text-color-muted: var(--color-light-text-muted);
  --text-color-strong: var(--color-light-text-muted-strong);
  
  /* --- Tokens de Border & Shadow --- */
  --border-default: 1px solid var(--color-light-border);
  --box-shadow-default: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);

  /* --- Tokens de Componentes (Default) --- */
  --btn-padding: var(--space-3) var(--space-4);
  --btn-radius: var(--radius-l);

  --tag-font-size: var(--font-size-m);
  --tag-padding: var(--space-1) var(--space-2);
  --tag-radius: var(--radius-s);

  --pill-font-size: var(--font-size-m);
  --pill-padding: var(--space-2) var(--space-3);
  --pill-radius: var(--radius-full);
}

/* --- Dark Theme Tokens --- */
html[data-theme="dark"] {
  /* --- Tokens de Background & Surface (Dark) --- */
  --background-page: var(--color-dark-bg);
  --background-surface: var(--color-dark-surface);
  --background-surface-alternate: var(--color-dark-surface-alt);
  
  /* --- Tokens de Texto (Dark) --- */
  --text-color-primary: var(--color-dark-text-primary);
  --text-color-muted: var(--color-dark-text-muted);
  --text-color-strong: var(--color-dark-text-muted-strong);
  
  /* --- Tokens de Border & Shadow (Dark) --- */
  --border-default: 1px solid var(--color-dark-border);
  --box-shadow-default: none;
}

/* --- Tokens de Feedback (Independente do Tema) --- */

/* Tag/Pill Primary */
:root {
  --tag-primary-background: var(--color-brand-secondary);
  --tag-primary-border: 1px solid var(--color-brand-secondary);
  --tag-primary-text: var(--color-light-solid);
}

/* Pill Warn */
:root {
  --pill-warn-background: var(--color-warning-yellow);
  --pill-warn-border: 1px solid var(--color-warning-yellow);
  --pill-warn-text: var(--color-light-text-primary);
}

/* Pill Info */
:root {
  --pill-info-background: var(--color-info-cyan);
  --pill-info-border: 1px solid var(--color-info-cyan);
  --pill-info-text: var(--color-light-solid);
}


/* ========================================================== */
/* ETAPA 3: ORGANISMOS (ESTRUTURA DE LAYOUT) */
/* ========================================================== */

/* --- Organismo: Reset/Base --- */
body {
  font-family: 'Inter', sans-serif;
  color: var(--text-color-primary);
  margin: 0;
  padding: var(--space-6);
  background: var(--background-page);
}

hr {
  border: none;
  border-top: var(--border-default);
  margin: var(--space-6) 0;
}

/* --- Organismo: Header/Toolbar --- */
header {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}
header .title {
  display: flex;
  gap: var(--space-4);
  align-items: center;
}
header h1 {
  margin: 0;
  font-size: var(--font-size-xl);
}
header .subtitle {
  margin: 0;
  font-size: var(--font-size-m);
  color: var(--text-color-muted);
  display: flex;
  align-items: center;
  gap: var(--space-2);
}
.title-actions {
  margin-left: auto;
}
.toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap; /* Garante que os itens quebrem em telas menores */
  gap: var(--space-4);
}

/* Classes de Utilidade de Layout (Usadas pelo HTML) */
.split {
  display: flex;
  gap: var(--space-3);
  align-items: center;
}
.row {
  display: flex;
  gap: var(--space-3);
  align-items: center;
}
.col {
  display: flex;
  flex-direction: column;
}

/* --- Organismo: CSS GRID (Para a área principal - <main>) --- */
.grid { 
  display: grid; 
  grid-template-columns: 1fr; /* Padrão Mobile (1 coluna) */
  gap: var(--space-4); 
}
@media (min-width: 768px) { 
  .grid { grid-template-columns: repeat(3, minmax(250px, 1fr)); } /* Desktop (3 colunas) */
}


/* --- Organismo: CARROSSEL (CSS Scroll Snap) --- */
.carousel {
  display: flex;
  overflow-x: auto; /* Habilita a rolagem horizontal */
  gap: var(--space-4); 
  scroll-snap-type: x mandatory; /* Força o "snap" */
  -webkit-overflow-scrolling: touch; /* Melhora a rolagem em iOS */
  padding-bottom: var(--space-2); /* Espaço para sombra ou indicador */
}
/* Item do Carrossel (KPI Card) */
.carousel > .card {
  flex-shrink: 0; 
  width: 90%; /* Garante que 'grude' em um item visível no mobile */
  scroll-snap-align: start; /* Alinha o item ao início do contêiner */
  padding: var(--space-4); 
  /* Estilo KPI: */
  text-align: center; 
}
.kpi-value { 
  font-size: 2.2rem; 
  font-weight: 700; 
  color: var(--color-brand-primary); 
  margin: var(--space-1) 0; 
}

/* Responsividade do Carrossel (Desktop) */
@media (min-width: 768px) { 
  /* Exibir ~3 cards no desktop */
  .carousel > .card { width: calc(33.33% - var(--space-4)); } 
}

/* Ocultar barra de rolagem (opcional para estética moderna) */
.carousel::-webkit-scrollbar { display: none; }
.carousel { -ms-overflow-style: none; scrollbar-width: none; }


/* ========================================================== */
/* ETAPA 4: MOLÉCULAS (COMPONENTES) */
/* ========================================================== */

/* --- Molécula: Botão (Btn) --- */
.btn {
  display: inline-flex;
  gap: var(--space-2);
  align-items: center;
  padding: var(--btn-padding);
  border-radius: var(--btn-radius);
  background: var(--background-surface);
  border: var(--border-default);
  color: var(--text-color-primary);
  text-decoration: none;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
  font-size: var(--font-size-m);
}
.btn:hover {
  background: var(--background-surface-alternate);
}
.btn.primary {
  background: var(--color-brand-secondary);
  border-color: var(--color-brand-secondary);
  color: var(--color-light-solid);
}
.btn.primary:hover {
  background: #0849a9; /* Tom mais escuro */
  border-color: #0849a9;
}

/* --- Molécula: Card --- */
.card {
  background: var(--background-surface);
  border: var(--border-default);
  border-radius: var(--radius-l);
  box-shadow: var(--box-shadow-default);
  padding: var(--space-4);
  color: var(--text-color-primary);
}
.card h3 {
  margin: 0 0 var(--space-1) 0;
  font-size: var(--font-size-l);
}
.card p {
  margin: 0;
  color: var(--text-color-muted);
  font-size: var(--font-size-m);
}

/* Card Específico para o Grid Principal */
.app-card {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}
.app-card .row {
  align-items: flex-start;
}
.app-card .actions {
  margin-top: auto; /* Empurra ações para o fundo do card */
  display: flex;
  gap: var(--space-3);
  justify-content: flex-end;
}
.app-card .actions .btn {
  padding: var(--space-2) var(--space-3);
  font-size: var(--font-size-m);
}

/* --- Molécula: Pill (Aviso) --- */
.pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--pill-padding);
  border-radius: var(--pill-radius);
  font-size: var(--pill-font-size);
}
.pill.warn {
  background: var(--pill-warn-background);
  border: var(--pill-warn-border);
  color: var(--pill-warn-text);
}
.pill.info {
  background: var(--pill-info-background);
  border: var(--pill-info-border);
  color: var(--pill-info-text);
}

/* --- Molécula: Tag --- */
.tag {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--tag-padding);
  font-size: var(--tag-font-size);
  background: var(--tag-background, var(--background-surface-alternate));
  border: var(--tag-border, var(--border-default));
  color: var(--tag-text, var(--text-color-strong));
  border-radius: var(--tag-radius);
}
.tag.primary {
  background: var(--tag-primary-background);
  border: var(--tag-primary-border);
  color: var(--tag-primary-text);
}

/* ========================================================== */
/* ETAPA 5: ÁTOMOS (UTILIDADES) */
/* ========================================================== */
.app-icon {
  font-size: var(--font-size-l);
}
.app-icon.large {
  font-size: var(--font-size-xl);
}
