<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MiniApps ‚Äî Cat√°logo</title>
  <link rel="stylesheet" href="./miniapp-base/styles.css?v=1.1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fabiocolletto/MiniApp-base/miniapp-base/styles.css?v=1.1.0" media="print" onload="this.media='all'">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@300..700&display=swap" rel="stylesheet">
  <style>
    :root {
      --catalog-bg: var(--surface, #f8fafc);
      --catalog-card: var(--card, #fff);
      --catalog-border: var(--card-border, #cbd5e1);
      --catalog-muted: var(--muted, #64748b);
      --catalog-shadow: 0 12px 40px rgba(15, 23, 42, 0.08);
    }

    body {
      margin: 0;
      padding: clamp(24px, 4vw, 48px);
      background: var(--catalog-bg);
      font-family: var(--font-family, "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif);
      color: var(--on-surface, #0f172a);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 48px);
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: clamp(16px, 4vw, 32px);
      background: var(--catalog-card);
      border-radius: clamp(16px, 3vw, 24px);
      border: 1px solid var(--catalog-border);
      padding: clamp(20px, 4vw, 32px);
      box-shadow: var(--catalog-shadow);
    }

    header .title {
      display: grid;
      grid-template-columns: auto 1fr;
      align-items: center;
      gap: clamp(12px, 3vw, 20px);
    }

    .app-icon {
      font-size: clamp(28px, 4vw, 40px);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: clamp(44px, 5vw, 56px);
      height: clamp(44px, 5vw, 56px);
      border-radius: 16px;
      background: linear-gradient(140deg, rgba(59, 130, 246, 0.12), rgba(59, 130, 246, 0));
      color: #2563eb;
    }

    .title-text h1 {
      margin: 0;
      font-size: clamp(20px, 4vw, 28px);
      font-weight: 700;
    }

    .title-text p {
      margin: 4px 0 0;
      font-size: clamp(14px, 3vw, 16px);
      color: var(--catalog-muted);
    }

    .title-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-end;
    }

    .version {
      font-weight: 600;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(59, 130, 246, 0.12);
      color: #2563eb;
      font-size: 13px;
    }

    .user-status {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 14px;
      color: var(--catalog-muted);
    }

    .user-status button {
      appearance: none;
      border: 1px solid var(--catalog-border);
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 14px;
      line-height: 1;
      cursor: pointer;
      background: var(--catalog-card);
      color: inherit;
      transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
    }

    .user-status button.primary {
      background: #0b57d0;
      border-color: #0b57d0;
      color: #fff;
    }

    .user-status button:focus-visible,
    .catalog-actions .btn:focus-visible,
    .modal button:focus-visible {
      outline: 2px solid #1d4ed8;
      outline-offset: 2px;
    }

    main {
      display: flex;
      flex-direction: column;
      gap: clamp(24px, 4vw, 40px);
    }

    .catalog-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(320px, 100%), 1fr));
      gap: clamp(16px, 3vw, 28px);
    }

    .catalog-card {
      background: var(--catalog-card);
      border-radius: clamp(16px, 3vw, 24px);
      border: 1px solid var(--catalog-border);
      padding: clamp(20px, 4vw, 28px);
      display: grid;
      gap: clamp(16px, 3vw, 24px);
      box-shadow: var(--catalog-shadow);
      transition: transform 160ms ease, box-shadow 160ms ease;
    }

    .catalog-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 24px 48px rgba(15, 23, 42, 0.12);
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: clamp(16px, 3vw, 24px);
    }

    .card-header img {
      width: clamp(56px, 6vw, 72px);
      height: clamp(56px, 6vw, 72px);
      object-fit: contain;
      border-radius: 20px;
      border: 1px solid var(--catalog-border);
      background: #fff;
      padding: 8px;
    }

    .card-header h3 {
      margin: 0 0 4px;
      font-size: clamp(18px, 3.5vw, 22px);
    }

    .card-header p {
      margin: 0;
      color: var(--catalog-muted);
      font-size: clamp(14px, 3vw, 16px);
    }

    .catalog-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      color: var(--catalog-muted);
      font-size: 13px;
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .meta-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.05);
    }

    .catalog-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: flex-end;
    }

    .catalog-actions .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid var(--catalog-border);
      background: var(--catalog-card);
      color: inherit;
      text-decoration: none;
      font-weight: 600;
      transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
    }

    .catalog-actions .btn.primary {
      background: #0b57d0;
      border-color: #0b57d0;
      color: #fff;
    }

    .catalog-actions .btn:hover,
    .user-status button:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.12);
    }

    .catalog-actions .btn.primary:hover,
    .user-status button.primary:hover {
      background: #0a4cc9;
      border-color: #0a4cc9;
    }

    .material-symbols-outlined {
      font-family: "Material Symbols Outlined";
      font-weight: 300;
      font-style: normal;
      font-size: 18px;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      letter-spacing: normal;
      text-transform: none;
      white-space: nowrap;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .admin-summary {
      background: linear-gradient(140deg, rgba(37, 99, 235, 0.16), rgba(37, 99, 235, 0));
      border: 1px solid rgba(37, 99, 235, 0.35);
      border-radius: clamp(18px, 3vw, 26px);
      padding: clamp(20px, 4vw, 32px);
      display: grid;
      gap: 16px;
    }

    .admin-summary h2 {
      margin: 0;
      font-size: clamp(18px, 3.5vw, 22px);
    }

    .admin-summary p {
      margin: 0;
      color: rgba(15, 23, 42, 0.75);
      font-size: clamp(14px, 3vw, 16px);
    }

    .admin-summary ul {
      margin: 0;
      padding: 0;
      list-style: none;
      display: grid;
      gap: 12px;
      font-size: 14px;
    }

    .admin-summary li {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .admin-summary li::before {
      content: "";
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #0b57d0;
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.15);
    }

    dialog::backdrop {
      background: rgba(15, 23, 42, 0.45);
      backdrop-filter: blur(6px);
    }

    dialog.modal {
      border: none;
      border-radius: 20px;
      padding: clamp(20px, 4vw, 32px);
      box-shadow: var(--catalog-shadow);
      max-width: min(520px, 90vw);
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 0;
      border: none;
      box-shadow: none;
      background: none;
    }

    .modal-header h2 {
      margin: 0;
      font-size: clamp(18px, 4vw, 22px);
    }

    .modal-header button {
      appearance: none;
      border: none;
      background: none;
      cursor: pointer;
      padding: 6px;
      border-radius: 999px;
      color: var(--catalog-muted);
      transition: background 160ms ease;
    }

    .modal-header button:hover {
      background: rgba(15, 23, 42, 0.06);
      color: inherit;
    }

    .modal-content {
      margin-top: 16px;
      display: grid;
      gap: 12px;
      color: var(--catalog-muted);
      font-size: 14px;
    }

    .modal-footer {
      margin-top: 20px;
      display: flex;
      justify-content: flex-end;
    }

    .hidden {
      display: none !important;
    }

    @media (max-width: 720px) {
      body {
        padding: clamp(20px, 6vw, 32px);
      }

      header {
        flex-direction: column;
        align-items: stretch;
      }

      .title-actions {
        align-items: flex-start;
      }

      .user-status {
        justify-content: space-between;
        width: 100%;
      }

      .catalog-actions {
        justify-content: flex-start;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header aria-labelledby="catalog-title">
    <div class="title">
      <span class="app-icon" aria-hidden="true">üß©</span>
      <div class="title-text">
        <h1 id="catalog-title">Cat√°logo de MiniApps</h1>
        <p class="subtitle">Selecione um mini‚Äëapp para abrir</p>
      </div>
    </div>
    <div class="title-actions">
      <span class="version"><span class="sr-only">Vers√£o do cat√°logo: </span>v1.2.0</span>
      <div class="user-status" data-user-status>
        <span data-user-label>Voc√™ est√° navegando como visitante.</span>
        <button type="button" class="primary" data-action="auth">Fazer login</button>
      </div>
    </div>
  </header>

  <main aria-live="polite" aria-labelledby="catalog-title">
    <section class="catalog-grid">
      <article class="catalog-card" aria-labelledby="catalog-empty-title">
        <div>
          <h3 id="catalog-empty-title">Nenhum mini‚Äëapp dispon√≠vel</h3>
          <p>O cat√°logo foi simplificado e aguarda a publica√ß√£o de novos miniapps pelo painel administrativo.</p>
        </div>
      </article>
    </section>

    <section class="admin-summary" aria-labelledby="admin-summary-title">
      <div>
        <h2 id="admin-summary-title">Painel Administrativo</h2>
        <p>Gerencie permiss√µes, cadastre usu√°rios e acompanhe eventos em tempo real. O cat√°logo usa armazenamento local para persistir prefer√™ncias.</p>
      </div>
      <ul>
        <li>Sincroniza√ß√£o com IndexedDB e fallback autom√°tico para localStorage.</li>
        <li>Controles de publica√ß√£o e revis√£o com registro de altera√ß√µes.</li>
        <li>Indicadores de status por mini‚Äëapp, incluindo auditoria de vers√£o.</li>
      </ul>
    </section>
  </main>

  <script>
    const authButton = document.querySelector('[data-action="auth"]');
    const userLabel = document.querySelector('[data-user-label]');
    let isLoggedIn = false;

    authButton?.addEventListener('click', () => {
      isLoggedIn = !isLoggedIn;

      if (isLoggedIn) {
        userLabel.textContent = 'Bem-vindo, Admin. Voc√™ tem acesso completo.';
        authButton.textContent = 'Encerrar sess√£o';
        authButton.classList.remove('primary');
      } else {
        userLabel.textContent = 'Voc√™ est√° navegando como visitante.';
        authButton.textContent = 'Fazer login';
        authButton.classList.add('primary');
      }
    });
  </script>
</body>
</html>
