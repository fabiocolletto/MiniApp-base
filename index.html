<!DOCTYPE html>
<html lang="pt-BR" data-pref-theme="auto">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>MiniApp Base</title>
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="stylesheet" href="./miniapp-base/styles.css" />
    <link rel="preload" href="./public/meta/app-version.json" as="fetch" crossorigin="anonymous" />
  </head>
  <body>
    <div class="app-shell" data-view="home">
      <header class="app-header" role="banner">
        <div class="app-brand">
          <span class="app-brand__title" data-i18n="brand.title">MiniApp Base</span>
          <span class="app-brand__subtitle" data-i18n="brand.subtitle">Shell pronto para MiniApps internos</span>
        </div>
        <button type="button" class="app-header__menu" data-mobile-menu aria-expanded="false" aria-controls="appPrimaryNav">
          <span class="sr-only" data-i18n="nav.toggle">Alternar menu</span>
          <span aria-hidden="true"></span>
        </button>
      </header>

      <nav id="appPrimaryNav" class="app-nav" aria-label="Navega√ß√£o principal">
        <ul>
          <li>
            <button type="button" data-nav="home" class="is-active" aria-current="page">
              <span aria-hidden="true" class="app-nav__icon">üè†</span>
              <span data-i18n="nav.home">In√≠cio</span>
            </button>
          </li>
          <li>
            <button type="button" data-nav="miniapps">
              <span aria-hidden="true" class="app-nav__icon">üß©</span>
              <span data-i18n="nav.miniapps">MiniApps</span>
            </button>
          </li>
          <li>
            <button type="button" data-nav="settings">
              <span aria-hidden="true" class="app-nav__icon">‚öôÔ∏è</span>
              <span data-i18n="nav.settings">Ajustes</span>
            </button>
          </li>
          <li>
            <button type="button" data-nav="help">
              <span aria-hidden="true" class="app-nav__icon">‚ùì</span>
              <span data-i18n="nav.help">Ajuda</span>
            </button>
          </li>
          <li>
            <button type="button" data-nav="diagnostics">
              <span aria-hidden="true" class="app-nav__icon">ü©∫</span>
              <span data-i18n="nav.diagnostics">Diagn√≥stico</span>
            </button>
          </li>
        </ul>
      </nav>

      <main class="app-main" role="main">
        <section class="view view--home is-active" data-view-section="home">
          <header class="view__header">
            <h1 data-i18n="home.title">MiniApp Base</h1>
            <p data-i18n="home.caption">Ajuste tema, idioma e tamanho do texto antes de come√ßar.</p>
          </header>
          <section class="view__body">
            <h2 data-i18n="home.gridTitle">MiniApps configurados</h2>
            <div class="app-grid" role="list" data-miniapp-grid></div>
          </section>
        </section>

        <section class="view view--miniapps" data-view-section="miniapps" hidden>
          <header class="view__header">
            <h1 data-i18n="miniapps.title">MiniApps</h1>
            <p data-i18n="miniapps.caption">Escolha um MiniApp interno para abrir no painel.</p>
          </header>
          <div class="view__body">
            <div class="app-grid" role="list" data-miniapp-grid-secondary></div>
          </div>
        </section>

        <section class="view view--settings" data-view-section="settings" hidden>
          <header class="view__header">
            <h1 data-i18n="settings.title">Ajustes globais</h1>
            <p data-i18n="settings.caption">Prefer√™ncias compartilhadas com todos os MiniApps internos.</p>
          </header>
          <form class="settings-form" data-settings-form>
            <label class="settings-field">
              <span data-i18n="settings.theme">Tema</span>
              <select name="theme" data-setting-input="theme">
                <option value="auto" data-i18n="settings.theme.auto">Autom√°tico</option>
                <option value="light" data-i18n="settings.theme.light">Claro</option>
                <option value="dark" data-i18n="settings.theme.dark">Escuro</option>
              </select>
            </label>
            <label class="settings-field">
              <span data-i18n="settings.language">Idioma</span>
              <select name="language" data-setting-input="lang">
                <option value="pt-BR">Portugu√™s (Brasil)</option>
                <option value="en-US">English (US)</option>
                <option value="es-ES">Espa√±ol (ES)</option>
              </select>
            </label>
            <label class="settings-field">
              <span data-i18n="settings.font">Escala da fonte</span>
              <input type="range" min="-2" max="2" step="1" value="0" data-setting-input="fontScale" />
              <span class="settings-field__description" data-font-preview>100%</span>
            </label>
            <section class="settings-group" data-sync-section>
              <header class="settings-group__header">
                <h2 data-i18n="settings.sync.title">Sincroniza√ß√£o com Google Drive</h2>
                <p data-i18n="settings.sync.caption">Controle quando o backup em nuvem deve ser ligado, desligado ou limpo.</p>
              </header>
              <div class="settings-group__controls">
                <button type="button" class="sync-toggle" data-sync-toggle>
                  <span data-i18n="settings.sync.enable">Ligar sincroniza√ß√£o</span>
                </button>
                <button type="button" class="sync-delete" data-sync-delete>
                  <span data-i18n="settings.sync.delete">Excluir backups</span>
                </button>
              </div>
              <dl class="settings-sync-summary">
                <div>
                  <dt data-i18n="settings.sync.status.label">Status</dt>
                  <dd data-sync-status data-i18n="sync.status.disconnected">Sincroniza√ß√£o desligada</dd>
                </div>
                <div>
                  <dt data-i18n="settings.sync.lastSync.label">√öltima sincroniza√ß√£o</dt>
                  <dd data-sync-last-sync data-i18n="sync.lastSync.never">Nunca sincronizado</dd>
                </div>
                <div data-sync-error-row hidden>
                  <dt data-i18n="settings.sync.error.label">Erro</dt>
                  <dd data-sync-error>‚Äî</dd>
                </div>
              </dl>
            </section>
            <section class="settings-group">
              <h2 data-i18n="settings.layout.title">Layout</h2>
              <label class="settings-field settings-field--switch">
                <span data-i18n="settings.layout.menu">Ocultar menu ao abrir MiniApp</span>
                <input type="checkbox" data-setting-input="navCollapsed" />
              </label>
            </section>
          </form>
        </section>

        <section class="view view--help" data-view-section="help" hidden>
          <header class="view__header">
            <h1 data-i18n="help.title">Ajuda e suporte</h1>
            <p data-i18n="help.caption">Documenta√ß√£o essencial do MiniApp Base.</p>
          </header>
          <div class="view__body help-content">
            <article class="about-card" aria-labelledby="aboutTitle">
              <header>
                <h2 id="aboutTitle" data-i18n="about.title">Sobre o MiniApp Base</h2>
              </header>
              <p data-i18n="about.version">Vers√£o <span data-app-version>1.0.0</span> ‚Äî √∫ltima atualiza√ß√£o em <span data-app-updated>--/--/----</span>.</p>
              <p>
                <a href="https://www.5horas.com.br" target="_blank" rel="noopener" class="about-logo" data-about-logo>
                  <picture>
                    <source media="(prefers-color-scheme: dark)" srcset="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Dark-Transparente-2000x500px.webp" />
                    <img src="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Light-Transparente-2000x500px.webp" alt="5 Horas" loading="lazy" decoding="async" />
                  </picture>
                </a>
              </p>
              <dl class="about-details">
                <div>
                  <dt data-i18n="about.owner.label">Propriet√°rio</dt>
                  <dd data-i18n="about.owner.value">5 Horas Tecnologia e Consultoria LTDA.</dd>
                </div>
                <div>
                  <dt data-i18n="about.privacy.label">Privacidade e termos</dt>
                  <dd>
                    <a href="https://www.5horas.com.br/politica-de-privacidade/" target="_blank" rel="noopener" data-i18n="about.privacy.value">Pol√≠tica de Privacidade</a>
                  </dd>
                </div>
                <div>
                  <dt data-i18n="about.contact.label">Contato</dt>
                  <dd>
                    <a href="mailto:contato@5horas.com.br" data-i18n="about.contact.value">contato@5horas.com.br</a>
                  </dd>
                </div>
                <div>
                  <dt data-i18n="about.tech.label">Tecnologias</dt>
                  <dd data-i18n="about.tech.value">HTML5, CSS, JavaScript, IndexedDB, BroadcastChannel.</dd>
                </div>
              </dl>
            </article>
            <article class="help-links">
              <h3 data-i18n="help.resources.title">Recursos r√°pidos</h3>
              <ul>
                <li><a href="./docs/miniapp-interno.md" target="_blank" data-i18n="help.resources.guide">Guia de integra√ß√£o de MiniApps internos</a></li>
                <li><a href="https://elementor.com/help/html-widget/" target="_blank" rel="noopener" data-i18n="help.resources.elementor">Integra√ß√£o via Elementor</a></li>
              </ul>
            </article>
          </div>
        </section>

        <section class="view view--diagnostics" data-view-section="diagnostics" hidden>
          <header class="view__header">
            <h1 data-i18n="diagnostics.title">Diagn√≥stico</h1>
            <p data-i18n="diagnostics.caption">Status do armazenamento e sincroniza√ß√£o.</p>
          </header>
          <div class="view__body diagnostics">
            <dl>
              <div>
                <dt data-i18n="diagnostics.storage.persisted">Armazenamento persistente</dt>
                <dd data-storage-persisted>‚Äî</dd>
              </div>
              <div>
                <dt data-i18n="diagnostics.storage.quota">Quota dispon√≠vel</dt>
                <dd data-storage-quota>‚Äî</dd>
              </div>
              <div>
                <dt data-i18n="diagnostics.storage.usage">Uso atual</dt>
                <dd data-storage-usage>‚Äî</dd>
              </div>
              <div>
                <dt data-i18n="diagnostics.storage.updated">√öltima atualiza√ß√£o</dt>
                <dd data-storage-updated>‚Äî</dd>
              </div>
            </dl>
          </div>
        </section>

        <section class="view view--miniapp-host" data-view-section="miniapp-host" hidden>
          <header class="view__header miniapp-header">
            <div>
              <h1 data-miniapp-title>MiniApp</h1>
              <p data-miniapp-description></p>
            </div>
            <div class="miniapp-actions">
              <button
                type="button"
                class="miniapp-actions__button"
                data-toggle-main-menu
                aria-pressed="false"
              >
                <span aria-hidden="true">‚ñ§</span>
                <span data-menu-toggle-label data-i18n="miniapp.menuHide">Ocultar menu</span>
              </button>
              <button type="button" class="miniapp-actions__button" data-close-miniapp>
                <span aria-hidden="true">‚ü≤</span>
                <span data-i18n="miniapp.close">Voltar ao In√≠cio</span>
              </button>
              <a href="#" target="_blank" rel="noopener" class="miniapp-actions__button" data-open-miniapp-external hidden>
                <span aria-hidden="true">‚Üó</span>
                <span data-i18n="miniapp.external">Abrir em nova aba</span>
              </a>
            </div>
          </header>
          <div class="miniapp-frame" role="region" aria-live="polite">
            <iframe title="" data-miniapp-frame loading="lazy"></iframe>
          </div>
        </section>
      </main>

      <footer class="app-footer" role="contentinfo">
        <a class="app-footer__brand" href="https://www.5horas.com.br" target="_blank" rel="noopener" data-footer-logo>
          <picture>
            <source media="(prefers-color-scheme: dark)" srcset="https://5horas.com.br/wp-content/uploads/2025/10/Icone-Dark-Transparente-500x500px.webp" />
            <img src="https://5horas.com.br/wp-content/uploads/2025/10/Icone-Light-Transparente-500x500px.webp" alt="5 Horas" width="36" height="36" loading="lazy" decoding="async" />
          </picture>
        </a>
        <div class="app-footer__meta">
          <span data-i18n="footer.product">MiniApp Base</span>
          <span aria-hidden="true">‚Ä¢</span>
          <span data-footer-version>v1.0.0</span>
        </div>
        <div class="app-footer__status" role="status" aria-live="polite">
          <span data-autosave-label data-i18n="status.synced">Sincronizado</span>
          <span aria-hidden="true" class="app-footer__status-separator">‚Ä¢</span>
          <span data-sync-label data-i18n="sync.status.disconnected">Sincroniza√ß√£o desligada</span>
        </div>
      </footer>
    </div>

    <div class="toast" role="status" aria-live="polite" hidden>
      <p data-toast-message></p>
    </div>

    <script type="module" src="./miniapp-base/app.js"></script>
  </body>
</html>
