<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MiniApps — Shell</title>
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link
    rel="icon"
    type="image/png"
    sizes="192x192"
    href="./miniapp-base/icons/icon-192.png"
    data-icon-light="./miniapp-base/icons/icon-192.png"
    data-icon-dark="./miniapp-base/icons/icon-192.png"
  />
  <link
    rel="apple-touch-icon"
    href="./miniapp-base/icons/icon-192.png"
    data-icon-light="./miniapp-base/icons/icon-192.png"
    data-icon-dark="./miniapp-base/icons/icon-192.png"
  />
  <link rel="stylesheet" href="./miniapp-base/style/styles.css" />
  <script src="./config/app-config.js"></script>
</head>
<body data-theme="light">
  <div id="miniapp-root" class="ma" data-theme="light">
    <div class="app" role="application">
      <header class="app-header" aria-live="polite">
        <div class="cluster app-header__branding">
          <div>
            <h1 data-header-title>Catálogo de MiniApps</h1>
            <p data-header-subtitle class="muted">Escolha um MiniApp para abrir</p>
          </div>
        </div>
        <div class="cluster app-header__actions">
          <button id="openCatalog" class="btn btn--ghost" type="button" title="Abrir catálogo">Catálogo</button>
          <button
            id="downloadMiniApp"
            class="btn btn--ghost"
            type="button"
            title="Baixar MiniApp"
            aria-label="Baixar MiniApp"
            hidden
          >
            <span data-download-label>Baixar MiniApp</span>
          </button>
          <button id="languageToggle" class="btn btn--ghost" type="button" aria-haspopup="true" aria-expanded="false" title="Alterar idioma">
            <span data-language-toggle-label>Português</span>
          </button>
          <button id="themeToggle" class="btn btn--ghost" type="button" aria-pressed="false" title="Ativar tema escuro">
            <span data-theme-toggle-label>Ativar tema escuro</span>
          </button>
        </div>
      </header>
      <main>
        <section id="catalog-view" class="app-view" hidden>
          <div id="catalog-app" class="app-panel catalog" data-catalog-root>
            <div class="catalog__container">
              <header class="catalog__header">
                <div class="catalog__heading">
                  <h2 data-catalog-title>Seu Catálogo de MiniApps</h2>
                  <p data-catalog-subtitle class="catalog__subtitle">Explore os aplicativos disponíveis para uso.</p>
                </div>
                <div class="catalog__controls">
                  <label class="catalog__search">
                    <span class="sr-only">Buscar</span>
                    <input
                      type="search"
                      data-catalog-search
                      placeholder="Buscar por nome, categoria ou descrição..."
                      autocomplete="off"
                    />
                  </label>
                  <label class="catalog__filter">
                    <span class="sr-only">Filtrar por categoria</span>
                    <select data-catalog-filter>
                      <option value="" data-default-option>Todas as Categorias</option>
                    </select>
                  </label>
                </div>
                <p data-catalog-status class="catalog__status">Inicializando...</p>
              </header>
              <div data-catalog-list class="catalog__grid" aria-live="polite">
                <div class="catalog-loading">
                  <span class="catalog-loading__spinner" aria-hidden="true"></span>
                  <span>Carregando catálogo…</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="app-view" class="app-view" hidden>
          <iframe id="miniapp-panel" name="miniapp-panel" class="app-panel" src="about:blank" title="MiniApp selecionado" loading="lazy"></iframe>
        </section>
      </main>
      <footer class="app-footer">
        <div class="cluster app-footer__branding">
          <span class="app-footer__logo" aria-hidden="true">
            <img
              src="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Light-Transparente-2000x500px.webp"
              class="app-logo"
              data-theme-logo="light"
              alt=""
              loading="eager"
            />
            <img
              src="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Dark-Transparente-2000x500px.webp"
              class="app-logo"
              data-theme-logo="dark"
              alt=""
              loading="eager"
            />
          </span>
          <span class="sr-only">5 Horas</span>
          <small>5 Horas — MiniApp Base</small>
        </div>
        <a class="btn btn--soft" href="#" id="installPWA" hidden>Instalar</a>
      </footer>
    </div>
  </div>
  <script type="module" src="js/app.js"></script>
</body>
</html>
