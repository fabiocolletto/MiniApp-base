<div class="preferences-overlay" data-pref-overlay hidden>
  <div class="preferences-panel" role="dialog" aria-modal="true" aria-labelledby="preferencesPanelTitle">
    <header class="preferences-panel__header">
      <h2 id="preferencesPanelTitle">Preferências do usuário</h2>
      <button type="button" class="preferences-panel__close" data-pref-close>
        <span class="sr-only">Fechar painel de preferências</span>
        <span aria-hidden="true">×</span>
      </button>
    </header>

    <form class="preferences-form" data-pref-form>
      <section class="preferences-section" aria-labelledby="preferencesThemeLabel">
        <h3 id="preferencesThemeLabel">Modo de cor</h3>
        <p class="preferences-section__hint">Sincronize com o sistema ou force um tema específico.</p>
        <div class="preferences-options">
          <label class="preferences-option">
            <input type="radio" name="theme" value="auto" />
            <span class="preferences-option__label">Automático</span>
            <span class="preferences-option__description">Usa a preferência do sistema operacional.</span>
          </label>
          <label class="preferences-option">
            <input type="radio" name="theme" value="light" />
            <span class="preferences-option__label">Claro</span>
            <span class="preferences-option__description">Interface com alto contraste em ambientes iluminados.</span>
          </label>
          <label class="preferences-option">
            <input type="radio" name="theme" value="dark" />
            <span class="preferences-option__label">Escuro</span>
            <span class="preferences-option__description">Ideal para ambientes com pouca luz.</span>
          </label>
        </div>
      </section>

      <section class="preferences-section" aria-labelledby="preferencesLanguageLabel">
        <h3 id="preferencesLanguageLabel">Idioma da interface</h3>
        <div class="preferences-field">
          <label for="preferencesLangSelect">Escolha o idioma base dos textos.</label>
          <select id="preferencesLangSelect" name="lang" data-pref-lang>
            <option value="pt-BR">Português (Brasil)</option>
            <option value="en">Inglês</option>
            <option value="es">Espanhol</option>
          </select>
        </div>
      </section>

      <section class="preferences-section" aria-labelledby="preferencesFontLabel">
        <h3 id="preferencesFontLabel">Tamanho do texto</h3>
        <div class="preferences-slider" data-pref-font>
          <input
            type="range"
            name="fontScale"
            min="-2"
            max="2"
            step="1"
            list="fontScaleMarks"
            aria-describedby="preferencesFontScaleHint"
          />
          <datalist id="fontScaleMarks">
            <option value="-2" label="A−−"></option>
            <option value="-1" label="A−"></option>
            <option value="0" label="A"></option>
            <option value="1" label="A+"></option>
            <option value="2" label="A++"></option>
          </datalist>
          <p class="preferences-hint" id="preferencesFontScaleHint">
            Escala atual: <span data-font-scale-label>Padrão</span>
          </p>
        </div>
      </section>

      <section class="preferences-section" aria-labelledby="preferencesDensityLabel">
        <h3 id="preferencesDensityLabel">Densidade dos componentes</h3>
        <div class="preferences-options preferences-options--inline">
          <label class="preferences-option preferences-option--compact">
            <input type="radio" name="density" value="comfort" />
            <span class="preferences-option__label">Conforto</span>
            <span class="preferences-option__description">Espaçamentos amplos e leitura relaxada.</span>
          </label>
          <label class="preferences-option preferences-option--compact">
            <input type="radio" name="density" value="compact" />
            <span class="preferences-option__label">Compacto</span>
            <span class="preferences-option__description">Mais conteúdo por tela, ideal para painéis densos.</span>
          </label>
        </div>
      </section>

      <section class="preferences-section" aria-labelledby="preferencesMotionLabel">
        <h3 id="preferencesMotionLabel">Animações e movimento</h3>
        <div class="preferences-switch">
          <label class="preferences-toggle">
            <input type="checkbox" name="reduceMotion" value="true" />
            <span class="preferences-toggle__control" aria-hidden="true"></span>
            <span class="preferences-toggle__label">Reduzir animações</span>
          </label>
          <p class="preferences-hint">
            Quando desligado, seguimos a preferência do sistema e reduzimos se "Reduzir movimento" estiver ativo.
          </p>
        </div>
      </section>
    </form>
  </div>
</div>
