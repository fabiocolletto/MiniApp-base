# Changelog

Todas as mudanças relevantes deste projeto serão registradas aqui.
Entradas passam a ser geradas automaticamente pelo Release Please após merges na branch main.

## 1.0.0 (2025-11-07)


### Features

* activate legal terms link in footer ([1c57d55](https://github.com/fabiocolletto/MiniApp-base/commit/1c57d55af084e52e33c5ad8c70a06167e98cc683))
* add admin design kit panel ([1b98d13](https://github.com/fabiocolletto/MiniApp-base/commit/1b98d13745d042da7f291a79b1f14b9ed9fc2dd2))
* add admin-only access to temporary projects ([ca59a89](https://github.com/fabiocolletto/MiniApp-base/commit/ca59a89da07243810db779a2d0aba7b031f90472))
* add cep auto-fill to user address section ([bac7b18](https://github.com/fabiocolletto/MiniApp-base/commit/bac7b18fe6b1750ee21fbbc8863dfc5ca3d4d3e1))
* add deployments summary to project log ([d8fe287](https://github.com/fabiocolletto/MiniApp-base/commit/d8fe287ceef9724bb7e5299b7222f6130e3614a5))
* add i18n shell updates and good morning miniapp ([eacb9ef](https://github.com/fabiocolletto/MiniApp-base/commit/eacb9ef2c3f482370bec6c29d65d8594d903fe8e))
* add language picker to footer menu ([70aa8ae](https://github.com/fabiocolletto/MiniApp-base/commit/70aa8aef20a49feee3d60cafaabb2f04e7491dcc))
* add manual save controls to user dashboard ([b163b80](https://github.com/fabiocolletto/MiniApp-base/commit/b163b8028da7029a57f5c746670e01ae4b98550b))
* add miniapp preference storage ([3679567](https://github.com/fabiocolletto/MiniApp-base/commit/367956720e230f31f5bef62c4e146804522de6ef))
* add theme manager with user preferences ([c3d5834](https://github.com/fabiocolletto/MiniApp-base/commit/c3d58349c0c1c213f3f3be73cb181ba700016b8d))
* adicionar gestão de assinaturas no painel admin ([25c5a22](https://github.com/fabiocolletto/MiniApp-base/commit/25c5a22ea3b64d34f166f30890a1b98754d4320b))
* **admin:** add highlights dashboard widget ([35c4074](https://github.com/fabiocolletto/MiniApp-base/commit/35c4074f49f4e6dd7d0848b20058d9ef9cad25e4))
* align home guest view with auth layout ([c70da2b](https://github.com/fabiocolletto/MiniApp-base/commit/c70da2be0bf2f9b9d1ed382a3d41f1815ab842a7))
* alinhar painel de login ao cadastro ([55ed226](https://github.com/fabiocolletto/MiniApp-base/commit/55ed2263acc15cbf2af610f80a852a50139994fc))
* allow inline editing in admin table ([c525d64](https://github.com/fabiocolletto/MiniApp-base/commit/c525d645e1ed46aa32cb1c7134df0f8a76ef11a6))
* auto-fill address from CEP lookup ([ec290f1](https://github.com/fabiocolletto/MiniApp-base/commit/ec290f102ae1f9dfc1edc3e8b4e7b2f79c9909df))
* **base-ui:** painel de status do armazenamento (persist/cota/auditoria) ([909213d](https://github.com/fabiocolletto/MiniApp-base/commit/909213df7a81a5fff606c058ce8b26522c66a6f4))
* centralize activity feedback in footer ([b28e35a](https://github.com/fabiocolletto/MiniApp-base/commit/b28e35a8a9bff5fa9cc5c28c44872c4cc82216ed))
* centralize header title and brand controls ([9e6ab8d](https://github.com/fabiocolletto/MiniApp-base/commit/9e6ab8df343bc5296a21a3bc97429658b300d67c))
* centralize white label identity and theme ([29648f5](https://github.com/fabiocolletto/MiniApp-base/commit/29648f5efd05dca08491076fd31e256b6b92b19e))
* destacar informações de release no painel admin ([ab0546c](https://github.com/fabiocolletto/MiniApp-base/commit/ab0546ca2f43ac8b30922de70447d4701ecd039b))
* enable auto-save in user dashboard ([3c51e8c](https://github.com/fabiocolletto/MiniApp-base/commit/3c51e8cc2de9da836086d0b19085dd2e08b7b1cc))
* gate footer indicators with user preference ([7ad60fa](https://github.com/fabiocolletto/MiniApp-base/commit/7ad60fa877948de97c26a02ee5a6db4a7e2ea8d1))
* highlight user data summary before table ([85aee83](https://github.com/fabiocolletto/MiniApp-base/commit/85aee835b0ed5e891ae4d1451649aeb9a58460da))
* improve footer menu hierarchy ([ed5e016](https://github.com/fabiocolletto/MiniApp-base/commit/ed5e0168a32e76c2d7919f56d0c52bb3dab0b3b4))
* open user panel when session persists ([8c20c4e](https://github.com/fabiocolletto/MiniApp-base/commit/8c20c4e46060e9af4eff3b96e71f127df6c5411a))
* organize user dashboard form grid ([8ec50ce](https://github.com/fabiocolletto/MiniApp-base/commit/8ec50ced96403c9b1ac0601b8d7096bcb0b796dc))
* **ripple:** MVP funcional do painel + dados piloto ([c720433](https://github.com/fabiocolletto/MiniApp-base/commit/c72043390bf559ad0a1d2c01744fa19b1efa0295))
* **settings:** toggle Multidispositivos (web component) e gate do worker ([09e5196](https://github.com/fabiocolletto/MiniApp-base/commit/09e5196301756988f358d39b495f410eb0f79b85))
* **tasks:** allow managing tasks with persistent store ([6ce493d](https://github.com/fabiocolletto/MiniApp-base/commit/6ce493dd15d050695a08ff56a233b97354fe22bb))
* **ui:** inclusão de &lt;social-auth&gt; nas telas de cadastro e login ([acceff0](https://github.com/fabiocolletto/MiniApp-base/commit/acceff0c0c828867ad24e3610a6a13ece7a64f51))


### Bug Fixes

* align footer menu layout and palette ([c797c75](https://github.com/fabiocolletto/MiniApp-base/commit/c797c75d1f15cb44b8ad7295519489a4bc656d80))
* anchor desktop menu overlay ([b3b5208](https://github.com/fabiocolletto/MiniApp-base/commit/b3b5208721807a41e217afaefda5d6cea3465d29))
* expand menu overlay to full viewport ([e0be21d](https://github.com/fabiocolletto/MiniApp-base/commit/e0be21d1a284f9cab064256ab851ec8836b31dfd))
* keep auth footer anchored to viewport ([878e3e1](https://github.com/fabiocolletto/MiniApp-base/commit/878e3e10aa6c0ea1ab7717375ba305b7a34343ca))
* usar ícones no alternador de senha ([6ea416b](https://github.com/fabiocolletto/MiniApp-base/commit/6ea416b642d5fa68ac079f4cf9f751edba4c165e))

## [Unreleased]
- Adicionada sincronização opcional com Google Drive, incluindo fluxo de consentimento, exclusão manual de backups e estados discretos no rodapé.
- Consolidado SDK do MiniApp Base com módulos de preferências, autosave e sincronização reutilizáveis para todos os MiniApps.
- Painel principal atualizado com lançadores minimalistas, preferências persistentes de menu recolhido e feedbacks de salvamento integrados.
- MiniApp Pesquisas ▸ Cidades adaptado ao novo modelo de documentos versionados com mescla por campo e notificações via barramento.
- Criados testes automatizados cobrindo controlador de autosave, armazenamento de sincronização e cliente de sincronização com stubs do Drive.

## [1.0.0] - 2025-11-01T09:00:00-03:00 (BRT)
- Menu principal simplificado com navegação responsiva (Início, MiniApps, Ajustes, Ajuda e Diagnóstico).
- Painel inicial renovado com grade de MiniApps internos e carregamento integrado do Pesquisas ▸ Cidades.
- Tela “Sobre o MiniApp Base” com logotipos temáticos, links legais e metadados de versão sincronizados.
- Rodapé com ícone dinâmico conforme tema e indicador de status de auto-salvamento (desatualizado ▸ salvando ▸ salvo).
- Preferências globais (tema, idioma e escala de fonte) persistidas em IndexedDB e propagadas via BroadcastChannel.
- Diagnóstico de armazenamento exibindo persistência, quota e uso compartilhados entre Shell e MiniApp.
- MiniApp Pesquisas ▸ Cidades publicado como conteúdo interno com sincronização de rascunhos no IndexedDB comum.
- Documentação de integração em `/docs/miniapp-interno.md` descrevendo requisitos de MiniApps internos.

## [3.1.2] - 2025-10-31T09:12:07-03:00 (BRT)
- Menu principal do rodapé passa a exibir apenas um atalho em ícone para as Configurações, removendo as listas de painéis, widgets e MiniApps do overlay.
- Versão do aplicativo atualizada para 3.1.2 (`package.json`, `public/meta/app-version.json` e `scripts/data/system-release-source.js`) refletindo o novo comportamento do menu simplificado.

## [3.1.2] - 2025-10-31T18:51:16-03:00 (BRT)
- Atalhos de tema, idioma e tamanho de fonte no menu do rodapé mantêm o painel aberto após os cliques, permitindo ajustar as preferências sem reabrir a janela.

## [3.1.1] - 2025-10-31T08:57:12-03:00 (BRT)
- Ajustada a janela do menu principal para aproveitar até 92 vh (ou 40 rem) nas viewports compactas e até 70 vh (ou 42 rem) em desktops, exibindo o conteúdo sem exigir barras de rolagem desnecessárias.
- Versão do aplicativo sincronizada para 3.1.1 nas fontes públicas (`package.json`, `public/meta/app-version.json` e `scripts/data/system-release-source.js`) refletindo o ajuste visual.

## [3.1.0] - 2025-10-30T12:15:26-03:00 (BRT)
- Menu principal reorganizado em categorias e tipos que espelham as jornadas do shell, com descrições contextuais e toggles para
  fixar widgets correspondentes.
- Estabelecido painel de widgets no corpo do aplicativo que reúne cartões dinâmicos para cada item ativado, com ações de acesso
  rápido e remoção.
- Aplicado visual inspirado no Windows 98 ao botão e à janela do menu em telas largas, incluindo rótulo textual exposto e painel
  acoplado ao rodapé.
- Criado teste automatizado garantindo que a ativação dos widgets via menu atualize o painel principal.

## [3.0.1] - 2025-10-30T11:43:53-03:00 (BRT)
- Eliminados os preenchimentos laterais do painel `.auth-screen` em telas largas, mantendo apenas o `padding-block` para aproveitar toda a largura útil sem criar barras horizontais e preservando o alinhamento do rodapé.
- Removido o botão "Fazer outro cadastro" do painel de sucesso para simplificar o fluxo após o cadastro.
- Estrutura inicial de automação do log criada.
- Documentado o procedimento de integração da página `/miniapps/` no WordPress com Elementor.
- Exposta a instância global de roteador para habilitar a navegação dos botões da tela inicial.
- Adicionada janela modal de autenticação na tela inicial com suporte aos painéis de login e cadastro.
- Ajustado o bootstrap para abrir diretamente o painel do usuário quando houver sessão autenticada.
- Ajustado o layout dos painéis de login e cadastro para eliminar sobreposição com o cabeçalho do modal e remover espaços excedentes.
- Cadastro passa a abrir automaticamente a MiniApp Store após conclusão e inclui teste de verificação desse fluxo.
- Botão de sucesso do cadastro redireciona diretamente para a MiniApp Store.
- Ajustado o campo de código do país no formulário de autenticação para não sobrepor o número de telefone.
- Corrigido o painel de login para manter a view ativa e exibir feedback quando as credenciais informadas forem inválidas.
- Corrigido o carregamento de `public/env.js` na tela inicial para garantir a disponibilidade do login social em implantações sob subcaminhos.
- Unificado o acesso em um painel de boas-vindas com seletor para login e cadastro sem o uso de modal separado.
- Corrigido o painel de boas-vindas para respeitar os limites de tela em dispositivos móveis, mantendo a dica contextual visível.
- Reintroduzido cabeçalho e rodapé fixos na tela de autenticação, mantendo-os sempre visíveis com a versão dinâmica do MiniApp.
- Simplificado o fluxo de acesso removendo integrações sociais e referências a outras páginas dentro do cartão de boas-vindas.
- Adicionada aba de convidado ao painel de boas-vindas com vitrine de MiniApps gratuitos e botão de acesso rápido.
- Arquivado o componente legado de autenticação social e seus testes, concentrando o fluxo na tela unificada.
- Login e acesso convidado passam a abrir diretamente o painel MiniApp Store após a autenticação ou seleção gratuita.
- Painel do menu de autenticação agora limita a altura e habilita rolagem interna para listas extensas em mobile e desktop.
- Botão do menu principal informa a existência do painel por meio de `aria-haspopup` para leitores de tela.
- MiniApp Base convertido em PWA com manifesto, ícones instaláveis e Service Worker para navegação offline.
- Auditada a conversão PWA com relatório de validação cobrindo manifesto, service worker e próximos ajustes.
- Ícones do PWA convertidos para SVG vetoriais com suporte maskable, evitando o uso de assets binários no repositório.
- Ícone instalável atualizado para utilizar o asset oficial hospedado em 5horas.com.br.
- Corrigido o manifesto PWA para que o aplicativo instalado abra a tela inicial em dispositivos móveis e mantenha os atalhos funcionais.
- Manifesto PWA movido para a raiz com `start_url` e `scope` relativos ao shell, evitando erro 404 ao abrir o app instalado pelo atalho.
- Documentação atualizada para refletir o novo local do manifesto e os atalhos ativos.
- Evitado o deslocamento involuntário da tela ao abrir o menu principal, preservando a posição do usuário durante a navegação.
- Rodapé do painel de autenticação passa a expor a dica contextual diretamente em `#statusHint` como região ao vivo (`role="status"`) para garantir o anúncio automático em leitores de tela.
- Painel de autenticação amplia-se para ocupar toda a área útil em telas largas, com tipografia reajustada para leitura confortável.

## [3.0.0] - 2025-10-30T06:02:57-03:00 (BRT)
- Criado helper compartilhado (`tests/helpers/dom-env.js`) para reutilizar o ambiente DOM simulado em toda a suíte automatizada.
- Adicionada bateria de testes `tests/miniapp-store.view.test.js` cobrindo cartões, favoritos/salvos e navegação da MiniApp Store em layout conversacional.
- Atualizada documentação (README + `docs/testing/release-3.0-validation.md`) com roteiro de validação completa e referências para o novo shell inspirado na OpenAI.

## [0.2.4] - 2025-10-30T02:02:29-03:00 (BRT)
- Ajustada a quebra do rodapé móvel expandido para permitir múltiplas linhas sem separar o ícone da marca do texto legal, mantendo a tipografia consistente nos metadados adicionais.

## [0.2.5] - 2025-10-30T05:50:57-03:00 (BRT)
- Recriado o painel da MiniApp Store com layout conversacional inspirado no ChatGPT, incluindo sidebar de jornadas, thread central e compositor de mensagens responsivo.
- Atualizada a paleta de tokens e o tema global para tons esverdeados e neutros utilizados pela identidade da OpenAI, propagando o novo visual para botões, cartões e focos.
- Adicionados controles de navegação lateral para mobile/desktop, lista de conversas sincronizada com destaques de MiniApps e melhorias de acessibilidade no fluxo convidado.

## [0.2.3] - 2025-10-29T15:27:46-03:00 (BRT)
- Mantido o layout horizontal do cabeçalho, rodapé e cartão de autenticação em todas as larguras, ajustando apenas espaçamentos para telas menores sem alterar a hierarquia visual.

## [0.2.2] - 2025-10-29T15:21:24-03:00 (BRT)
- Ajustada a largura do cartão de autenticação para seguir o contêiner em telas menores, mantendo o espaçamento interno aprovado e a consistência responsiva entre mobile e desktop.

## [0.2.1] - 2025-10-29T14:39:13-03:00 (BRT)
- Ajustadas as superfícies translúcidas do cabeçalho e rodapé do shell de autenticação para respeitarem a paleta ativa em temas claro e escuro, preservando contraste em telas móveis.
- Publicado `public/meta/app-version.json` como fonte estável da versão exibida no rodapé e atualizado o carregamento assíncrono para consumir o novo recurso.
- Atualizado o painel de convidados para ignorar MiniApps sem identificador válido, evitando atalhos quebrados que apontavam para `miniapp.md`.

## [0.2.0] - 2025-10-28T06:41:39-03:00 (BRT)
- Arquivada a árvore legada (`app/`, `router/`, `ui/`, `src/`, `tests/`, `MiniApps/` e utilitários redundantes) em `archive/2025-10-28/` para preservar histórico sem poluir o shell ativo.
- Consolidada a estrutura PWA: manifesto renomeado para `.webmanifest`, service worker com fallback offline dedicado e pré-cache dos atalhos `/?app=<slug>`.
- Migrado estilos inline para `styles/auth.css`, adicionada página `public/offline.html` e criados ícones específicos para os atalhos de MiniApps.
- Criadas fichas vivas em `docs/miniapps/`, além dos guias [`docs/pwa.md`](docs/pwa.md) e [`docs/migration-pre-to-post-pwa.md`](docs/migration-pre-to-post-pwa.md) documentando manutenção e rastreabilidade.
- Publicado relatório de limpeza (`reports/pwa-cleanup-2025-10-28/`) com inventário automatizado, cobertura CSS/JS e validações de instalabilidade/offline.
- Reduzido `styles/main.css` ao conjunto efetivamente usado pelo shell, eliminando utilitários órfãos destacados nos relatórios de coverage.
- Atualizado `service-worker.js` para usar navigation preload, evitar cache de navegação stale e priorizar o fallback `public/offline.html` quando a conexão falhar.
- Documentado no `README.md` o procedimento visual para demonstrar o fallback offline e os atalhos do catálogo durante as validações manuais.
